
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase 로그인</title>
    <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>
    <div id="auth-section">
        <!-- 초기 랜딩 화면 -->
        <div id="landing-container" class="card">
            <h1>연금복권 추첨기</h1>
            <button type="button" id="show-login-dialog-btn" class="btn-primary">로그인</button>
            <button type="button" id="api-test-btn" class="btn-api-test">공공API 연습</button> <!-- API 테스트 버튼 추가 -->
        </div>

        <!-- 로그인 후 환영 메시지 -->
        <div id="welcome-container" class="card hidden">
            <h1>환영합니다!</h1>
            <p><span id="user-email"></span>님, 로그인되었습니다.</p>
            <button type="button" id="btn-logout" class="btn-danger">로그아웃</button>
        </div>

        <!-- 로그인 모달 -->
        <dialog id="login-dialog">
        <span id="close-login-btn">&times;</span>
            <h1>로그인</h1>
            <input type="email" id="login-email" placeholder="이메일 (아이디)" required>
            <input type="password" id="login-password" placeholder="비밀번호" required>
            <button type="button" id="btn-login" class="btn-primary">로그인</button>
            <button type="button" id="login-google-btn" class="btn-google">Google 계정으로 로그인</button>
            <button type="button" id="open-signup-btn" class="btn-secondary">회원가입</button>
        </dialog>

        <!-- 회원가입 모달 -->
        <dialog id="signup-dialog">
            <h1>회원가입</h1>
            <input type="email" id="signup-email" placeholder="이메일 (아이디)" required>
            <input type="password" id="signup-password" placeholder="비밀번호" required>
            <input type="password" id="signup-password-confirm" placeholder="비밀번호 확인" required>
            <button type="button" id="btn-signup" class="btn-primary">가입하기</button>
            <button type="button" id="google-login-btn" class="btn-google">Google 계정으로 시작하기</button> <!-- Google 로그인 버튼 추가 -->
            <button type="button" id="close-signup-btn" class="btn-secondary">닫기</button>
        </dialog>
    </div>

    <div id="game-section" style="display: none;">
        <div class="card">
            <h2>💰 연금복권 720+ 추첨기 💰</h2>
            <div id="lottery-result" style="margin-top: 20px; font-size: 1.5em; display: flex; justify-content: center; align-items: center; gap: 5px;"></div>
            <button type="button" id="draw-numbers-btn" class="btn-primary" style="margin-top: 20px;">번호 추첨하기</button>
            <button type="button" id="draw-5-numbers-btn" class="btn-primary" style="margin-top: 10px;">자동 5 게임</button>
            <button type="button" id="game-logout-btn" class="btn-danger" style="margin-top: 10px;">로그아웃</button>
            <div class="history-header">
                <h3 class="lottery-history-title">📜 추첨 기록</h3> <!-- 제목을 밖으로 이동 -->
                <button type="button" id="clear-history-btn" class="btn-danger" style="margin-top: 20px; font-size: 0.8em; padding: 8px;">기록 삭제</button>
            </div>
            <div id="history-container" class="lottery-history-container">
                <!-- 추첨 기록 내용이 여기에 추가됩니다. -->
            </div>
        </div>
    </div>

    <script type="module" src="../controllers/authController.js"></script>
</body>
</html>
